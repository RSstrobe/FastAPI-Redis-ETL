services:
  redis_phone:
    container_name: redis_phone
    hostname: redis_phone
    image: redis:latest
    env_file: .env
    restart: always
    volumes:
      - /redis_auth/d–∞ta:/root/redis
      - /redis_auth/redis.conf:/usr/local/etc/redis/redis.conf
    environment:
      REDIS_PASSWORD: ${REDIS_PASSWORD}
      REDIS_PORT: ${REDIS_PORT}
      REDIS_DATABASES: ${REDIS_DATABASES}
    networks:
      - app_network

  user_info:
    container_name: user_info
    env_file: .env
    build: phone_app
    networks:
      - app_network
    ports:
      - ${BACKEND_PORT}:${BACKEND_PORT}
    depends_on:
      - redis_phone

networks:
  app_network:
    driver: bridge